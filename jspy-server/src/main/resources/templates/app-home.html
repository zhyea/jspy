<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<div th:replace="common/head::head"></div>
<body>

<div class="wrap">
    <div th:replace="common/nav::nav"></div>
    <main>
        <div id="memoryChart" style="width: 100%; height:400px;"></div>
        <br/><br/>
        <div id="threadChart" style="width: 100%; height:400px;"></div>
        <br/><br/>
        <div id="classLoadingChart" style="width: 100%; height:400px;"></div>
    </main>
    <div th:replace="common/footer::footer"></div>
</div>


<script type="text/javascript">
    // 基于准备好的dom，初始化echarts实例
    const memoryChart = echarts.init(document.getElementById('memoryChart'), 'macarons');
    loadChartContinuously(memoryChart, '/memory/find-by-params', '堆内存使用量', true);

    const threadChart = echarts.init(document.getElementById('threadChart'), 'macarons');
    loadChartContinuously(threadChart, '/thread/find-by-params', '线程信息');

    const classLoadingChart = echarts.init(document.getElementById('classLoadingChart'), 'macarons');
    loadChartContinuously(classLoadingChart, '/class-load/find-by-params', '类信息');

</script>

</body>
</html>